USE CRM_DEV_SDK


-- Insert unique ID's into temp table from note table.
INSERT INTO USR_UA_DESIGNATIONLEVEL_EXT (ID, DESIGNATIONLEVELID, ADDEDBYID, CHANGEDBYID) 
SELECT DBO.DESIGNATIONLEVELNOTE.ID, DBO.DESIGNATIONLEVELNOTE.DESIGNATIONLEVELID,
DBO.DESIGNATIONLEVELNOTE.ADDEDBYID,
DBO.DESIGNATIONLEVELNOTE.CHANGEDBYID FROM DBO.DESIGNATIONLEVELNOTE


-- Update temp table and set extended column 'status' to the designation level note title.
UPDATE USR_UA_DESIGNATIONLEVEL_EXT SET USR_UA_DESIGNATIONLEVEL_EXT.DESIGNATIONSTATUS = dbo.DESIGNATIONLEVELNOTE.TEXTNOTE FROM DBO.DESIGNATIONLEVELNOTE 
INNER JOIN USR_UA_DESIGNATIONLEVEL_EXT ON USR_UA_DESIGNATIONLEVEL_EXT.DESIGNATIONLEVELID = DBO.DESIGNATIONLEVELNOTE.DESIGNATIONLEVELID
WHERE DBO.DESIGNATIONLEVELNOTE.TITLE LIKE '%status%'

-- Update temp table and set extended column 'stewardshipname' to the designation level note title.
UPDATE USR_UA_DESIGNATIONLEVEL_EXT SET USR_UA_DESIGNATIONLEVEL_EXT.STEWARDSHIPNAME = dbo.DESIGNATIONLEVELNOTE.TEXTNOTE FROM DBO.DESIGNATIONLEVELNOTE 
INNER JOIN USR_UA_DESIGNATIONLEVEL_EXT ON USR_UA_DESIGNATIONLEVEL_EXT.DESIGNATIONLEVELID = DBO.DESIGNATIONLEVELNOTE.DESIGNATIONLEVELID
WHERE DBO.DESIGNATIONLEVELNOTE.TITLE LIKE '%stewardship name%'


-- Update temp table and set extended column 'preferred school' to the designation level note title.
UPDATE USR_UA_DESIGNATIONLEVEL_EXT SET USR_UA_DESIGNATIONLEVEL_EXT.PREFERREDSCHOOL = dbo.DESIGNATIONLEVELNOTE.TEXTNOTE FROM DBO.DESIGNATIONLEVELNOTE 
INNER JOIN USR_UA_DESIGNATIONLEVEL_EXT ON USR_UA_DESIGNATIONLEVEL_EXT.DESIGNATIONLEVELID = DBO.DESIGNATIONLEVELNOTE.DESIGNATIONLEVELID
WHERE DBO.DESIGNATIONLEVELNOTE.TITLE LIKE '%preferred school%'

-- Update temp table and set extended column 'established by' to the designation level note title.
UPDATE USR_UA_DESIGNATIONLEVEL_EXT SET USR_UA_DESIGNATIONLEVEL_EXT.ESTABLISHEDBY = dbo.DESIGNATIONLEVELNOTE.TEXTNOTE FROM DBO.DESIGNATIONLEVELNOTE 
INNER JOIN USR_UA_DESIGNATIONLEVEL_EXT ON USR_UA_DESIGNATIONLEVEL_EXT.DESIGNATIONLEVELID = DBO.DESIGNATIONLEVELNOTE.DESIGNATIONLEVELID
WHERE DBO.DESIGNATIONLEVELNOTE.TITLE LIKE '%established by%'

-- Update temp table and set extended column 'constituent type' to the designation level note title.
UPDATE USR_UA_DESIGNATIONLEVEL_EXT SET USR_UA_DESIGNATIONLEVEL_EXT.CONSTITUENTTYPE = dbo.DESIGNATIONLEVELNOTE.TEXTNOTE FROM DBO.DESIGNATIONLEVELNOTE 
INNER JOIN USR_UA_DESIGNATIONLEVEL_EXT ON USR_UA_DESIGNATIONLEVEL_EXT.DESIGNATIONLEVELID = DBO.DESIGNATIONLEVELNOTE.DESIGNATIONLEVELID
WHERE DBO.DESIGNATIONLEVELNOTE.TITLE LIKE '%constituent type%'


-- Update temp table and set extended column 'fund restriction' to the designation level note title.

UPDATE USR_UA_DESIGNATIONLEVEL_EXT SET USR_UA_DESIGNATIONLEVEL_EXT.FUNDRESTRICTION = dbo.DESIGNATIONLEVELNOTE.TEXTNOTE FROM DBO.DESIGNATIONLEVELNOTE 
INNER JOIN USR_UA_DESIGNATIONLEVEL_EXT ON USR_UA_DESIGNATIONLEVEL_EXT.DESIGNATIONLEVELID = DBO.DESIGNATIONLEVELNOTE.DESIGNATIONLEVELID
WHERE DBO.DESIGNATIONLEVELNOTE.TITLE LIKE '%fund restriction%'

-- Update temp table and set extended column 'MOA date' to the designation level note title.

UPDATE USR_UA_DESIGNATIONLEVEL_EXT SET USR_UA_DESIGNATIONLEVEL_EXT.MOADATE = dbo.DESIGNATIONLEVELNOTE.DATEENTERED FROM DBO.DESIGNATIONLEVELNOTE 
INNER JOIN USR_UA_DESIGNATIONLEVEL_EXT ON USR_UA_DESIGNATIONLEVEL_EXT.DESIGNATIONLEVELID = DBO.DESIGNATIONLEVELNOTE.DESIGNATIONLEVELID
WHERE DBO.DESIGNATIONLEVELNOTE.TITLE LIKE '%MOA Date%'

-- Update temp table and set extended column 'resolution date' to the designation level note title.

UPDATE USR_UA_DESIGNATIONLEVEL_EXT SET USR_UA_DESIGNATIONLEVEL_EXT.RESOLUTIONDATE = dbo.DESIGNATIONLEVELNOTE.DATEENTERED FROM DBO.DESIGNATIONLEVELNOTE 
INNER JOIN USR_UA_DESIGNATIONLEVEL_EXT ON USR_UA_DESIGNATIONLEVEL_EXT.DESIGNATIONLEVELID = DBO.DESIGNATIONLEVELNOTE.DESIGNATIONLEVELID
WHERE DBO.DESIGNATIONLEVELNOTE.TITLE LIKE '%resolution%'

-- Pull records from designations that do not have notes and add to extended table
INSERT INTO USR_UA_DESIGNATIONLEVEL_EXT (ID, DESIGNATIONLEVELID, ADDEDBYID, CHANGEDBYID) 
SELECT newid(), DESIGNATIONLEVEL.ID, dbo.DESIGNATIONLEVEL.ADDEDBYID, dbo.DESIGNATIONLEVEL.CHANGEDBYID
FROM dbo.DESIGNATIONLEVEL
LEFT JOIN USR_UA_DESIGNATIONLEVEL_EXT ON dbo.DESIGNATIONLEVEL.ID = USR_UA_DESIGNATIONLEVEL_EXT.DESIGNATIONLEVELID
WHERE USR_UA_DESIGNATIONLEVEL_EXT.DESIGNATIONLEVELID IS NULL

-- Generate new guids for lookup table items for DESIGNATIONSTATUSCODEID
INSERT INTO USR_UA_DESIGNATIONSTATUSCODE (ID, DESCRIPTION, ADDEDBYID, CHANGEDBYID)
VALUES (newid(), 'Archived', 'F2B21B0C-CAD9-4AAC-9504-49824E80AE57', 'F2B21B0C-CAD9-4AAC-9504-49824E80AE57');

INSERT INTO USR_UA_DESIGNATIONSTATUSCODE (ID, DESCRIPTION, ADDEDBYID, CHANGEDBYID)
VALUES (newid(), 'In Progress', 'F2B21B0C-CAD9-4AAC-9504-49824E80AE57', 'F2B21B0C-CAD9-4AAC-9504-49824E80AE57');

INSERT INTO USR_UA_DESIGNATIONSTATUSCODE (ID, DESCRIPTION, ADDEDBYID, CHANGEDBYID)
VALUES (newid(), 'Stewarded', 'F2B21B0C-CAD9-4AAC-9504-49824E80AE57', 'F2B21B0C-CAD9-4AAC-9504-49824E80AE57');

INSERT INTO USR_UA_DESIGNATIONSTATUSCODE (ID, DESCRIPTION, ADDEDBYID, CHANGEDBYID)
VALUES (newid(), 'Testamentary', 'F2B21B0C-CAD9-4AAC-9504-49824E80AE57', 'F2B21B0C-CAD9-4AAC-9504-49824E80AE57');

INSERT INTO USR_UA_DESIGNATIONSTATUSCODE (ID, DESCRIPTION, ADDEDBYID, CHANGEDBYID)
VALUES (newid(), 'Not Assigned', 'F2B21B0C-CAD9-4AAC-9504-49824E80AE57', 'F2B21B0C-CAD9-4AAC-9504-49824E80AE57');

-- Update existing records with newly generated guids in lookup table for DESIGNATIONSTATUSCODEID
UPDATE USR_UA_DESIGNATIONLEVEL_EXT 
SET DESIGNATIONSTATUSCODEID = (SELECT ID FROM USR_UA_DESIGNATIONSTATUSCODE WHERE DESCRIPTION LIKE '%Archived%')
WHERE DESIGNATIONSTATUS LIKE '%Archived%'

UPDATE USR_UA_DESIGNATIONLEVEL_EXT 
SET DESIGNATIONSTATUSCODEID = (SELECT ID FROM USR_UA_DESIGNATIONSTATUSCODE WHERE DESCRIPTION LIKE '%In Progress%')
WHERE DESIGNATIONSTATUS LIKE '%In Progress%'

UPDATE USR_UA_DESIGNATIONLEVEL_EXT 
SET DESIGNATIONSTATUSCODEID = (SELECT ID FROM USR_UA_DESIGNATIONSTATUSCODE WHERE DESCRIPTION LIKE '%Stewarded%')
WHERE DESIGNATIONSTATUS LIKE '%Stewarded%'

UPDATE USR_UA_DESIGNATIONLEVEL_EXT 
SET DESIGNATIONSTATUSCODEID = (SELECT ID FROM USR_UA_DESIGNATIONSTATUSCODE WHERE DESCRIPTION LIKE '%Testamentary%')
WHERE DESIGNATIONSTATUS LIKE '%Testamentary%'

UPDATE USR_UA_DESIGNATIONLEVEL_EXT 
SET DESIGNATIONSTATUSCODEID = (SELECT ID FROM USR_UA_DESIGNATIONSTATUSCODE WHERE DESCRIPTION LIKE '%Not Assigned%')
WHERE DESIGNATIONSTATUSCODEID IS NULL

-- Generate guids for lookup table items for PREFERREDCODEID
INSERT INTO USR_UA_DESIGNATIONPREFERREDSCHOOLCODE (ID, DESCRIPTION, ADDEDBYID, CHANGEDBYID)
VALUES (newid(), 'Academic Affairs', 'F2B21B0C-CAD9-4AAC-9504-49824E80AE57', 'F2B21B0C-CAD9-4AAC-9504-49824E80AE57');

INSERT INTO USR_UA_DESIGNATIONPREFERREDSCHOOLCODE (ID, DESCRIPTION, ADDEDBYID, CHANGEDBYID)
VALUES (newid(), 'Auxiliary Services', 'F2B21B0C-CAD9-4AAC-9504-49824E80AE57', 'F2B21B0C-CAD9-4AAC-9504-49824E80AE57');

INSERT INTO USR_UA_DESIGNATIONPREFERREDSCHOOLCODE (ID, DESCRIPTION, ADDEDBYID, CHANGEDBYID)
VALUES (newid(), 'Capstone International', 'F2B21B0C-CAD9-4AAC-9504-49824E80AE57', 'F2B21B0C-CAD9-4AAC-9504-49824E80AE57');

INSERT INTO USR_UA_DESIGNATIONPREFERREDSCHOOLCODE (ID, DESCRIPTION, ADDEDBYID, CHANGEDBYID)
VALUES (newid(), 'A&S', 'F2B21B0C-CAD9-4AAC-9504-49824E80AE57', 'F2B21B0C-CAD9-4AAC-9504-49824E80AE57');

INSERT INTO USR_UA_DESIGNATIONPREFERREDSCHOOLCODE (ID, DESCRIPTION, ADDEDBYID, CHANGEDBYID)
VALUES (newid(), 'Accountancy', 'F2B21B0C-CAD9-4AAC-9504-49824E80AE57', 'F2B21B0C-CAD9-4AAC-9504-49824E80AE57');

INSERT INTO USR_UA_DESIGNATIONPREFERREDSCHOOLCODE (ID, DESCRIPTION, ADDEDBYID, CHANGEDBYID)
VALUES (newid(), 'MBA', 'F2B21B0C-CAD9-4AAC-9504-49824E80AE57', 'F2B21B0C-CAD9-4AAC-9504-49824E80AE57');

INSERT INTO USR_UA_DESIGNATIONPREFERREDSCHOOLCODE (ID, DESCRIPTION, ADDEDBYID, CHANGEDBYID)
VALUES (newid(), 'C&IS', 'F2B21B0C-CAD9-4AAC-9504-49824E80AE57', 'F2B21B0C-CAD9-4AAC-9504-49824E80AE57');

INSERT INTO USR_UA_DESIGNATIONPREFERREDSCHOOLCODE (ID, DESCRIPTION, ADDEDBYID, CHANGEDBYID)
VALUES (newid(), 'CCHS', 'F2B21B0C-CAD9-4AAC-9504-49824E80AE57', 'F2B21B0C-CAD9-4AAC-9504-49824E80AE57');

INSERT INTO USR_UA_DESIGNATIONPREFERREDSCHOOLCODE (ID, DESCRIPTION, ADDEDBYID, CHANGEDBYID)
VALUES (newid(), 'Continuing Studies', 'F2B21B0C-CAD9-4AAC-9504-49824E80AE57', 'F2B21B0C-CAD9-4AAC-9504-49824E80AE57');

INSERT INTO USR_UA_DESIGNATIONPREFERREDSCHOOLCODE (ID, DESCRIPTION, ADDEDBYID, CHANGEDBYID)
VALUES (newid(), 'Education', 'F2B21B0C-CAD9-4AAC-9504-49824E80AE57', 'F2B21B0C-CAD9-4AAC-9504-49824E80AE57');

INSERT INTO USR_UA_DESIGNATIONPREFERREDSCHOOLCODE (ID, DESCRIPTION, ADDEDBYID, CHANGEDBYID)
VALUES (newid(), 'Engineering', 'F2B21B0C-CAD9-4AAC-9504-49824E80AE57', 'F2B21B0C-CAD9-4AAC-9504-49824E80AE57');

INSERT INTO USR_UA_DESIGNATIONPREFERREDSCHOOLCODE (ID, DESCRIPTION, ADDEDBYID, CHANGEDBYID)
VALUES (newid(), 'HES', 'F2B21B0C-CAD9-4AAC-9504-49824E80AE57', 'F2B21B0C-CAD9-4AAC-9504-49824E80AE57');

INSERT INTO USR_UA_DESIGNATIONPREFERREDSCHOOLCODE (ID, DESCRIPTION, ADDEDBYID, CHANGEDBYID)
VALUES (newid(), 'Nursing', 'F2B21B0C-CAD9-4AAC-9504-49824E80AE57', 'F2B21B0C-CAD9-4AAC-9504-49824E80AE57');

INSERT INTO USR_UA_DESIGNATIONPREFERREDSCHOOLCODE (ID, DESCRIPTION, ADDEDBYID, CHANGEDBYID)
VALUES (newid(), 'Honors College', 'F2B21B0C-CAD9-4AAC-9504-49824E80AE57', 'F2B21B0C-CAD9-4AAC-9504-49824E80AE57');

INSERT INTO USR_UA_DESIGNATIONPREFERREDSCHOOLCODE (ID, DESCRIPTION, ADDEDBYID, CHANGEDBYID)
VALUES (newid(), 'Human Resources', 'F2B21B0C-CAD9-4AAC-9504-49824E80AE57', 'F2B21B0C-CAD9-4AAC-9504-49824E80AE57');

INSERT INTO USR_UA_DESIGNATIONPREFERREDSCHOOLCODE (ID, DESCRIPTION, ADDEDBYID, CHANGEDBYID)
VALUES (newid(), 'Law School', 'F2B21B0C-CAD9-4AAC-9504-49824E80AE57', 'F2B21B0C-CAD9-4AAC-9504-49824E80AE57');

INSERT INTO USR_UA_DESIGNATIONPREFERREDSCHOOLCODE (ID, DESCRIPTION, ADDEDBYID, CHANGEDBYID)
VALUES (newid(), 'Military Science', 'F2B21B0C-CAD9-4AAC-9504-49824E80AE57', 'F2B21B0C-CAD9-4AAC-9504-49824E80AE57');

INSERT INTO USR_UA_DESIGNATIONPREFERREDSCHOOLCODE (ID, DESCRIPTION, ADDEDBYID, CHANGEDBYID)
VALUES (newid(), 'New College', 'F2B21B0C-CAD9-4AAC-9504-49824E80AE57', 'F2B21B0C-CAD9-4AAC-9504-49824E80AE57');

INSERT INTO USR_UA_DESIGNATIONPREFERREDSCHOOLCODE (ID, DESCRIPTION, ADDEDBYID, CHANGEDBYID)
VALUES (newid(), 'President', 'F2B21B0C-CAD9-4AAC-9504-49824E80AE57', 'F2B21B0C-CAD9-4AAC-9504-49824E80AE57');

INSERT INTO USR_UA_DESIGNATIONPREFERREDSCHOOLCODE (ID, DESCRIPTION, ADDEDBYID, CHANGEDBYID)
VALUES (newid(), 'Social Work', 'F2B21B0C-CAD9-4AAC-9504-49824E80AE57', 'F2B21B0C-CAD9-4AAC-9504-49824E80AE57');

INSERT INTO USR_UA_DESIGNATIONPREFERREDSCHOOLCODE (ID, DESCRIPTION, ADDEDBYID, CHANGEDBYID)
VALUES (newid(), 'SLIS', 'F2B21B0C-CAD9-4AAC-9504-49824E80AE57', 'F2B21B0C-CAD9-4AAC-9504-49824E80AE57');

INSERT INTO USR_UA_DESIGNATIONPREFERREDSCHOOLCODE (ID, DESCRIPTION, ADDEDBYID, CHANGEDBYID)
VALUES (newid(), 'Student Life', 'F2B21B0C-CAD9-4AAC-9504-49824E80AE57', 'F2B21B0C-CAD9-4AAC-9504-49824E80AE57');

INSERT INTO USR_UA_DESIGNATIONPREFERREDSCHOOLCODE (ID, DESCRIPTION, ADDEDBYID, CHANGEDBYID)
VALUES (newid(), 'Student Financial Aid', 'F2B21B0C-CAD9-4AAC-9504-49824E80AE57', 'F2B21B0C-CAD9-4AAC-9504-49824E80AE57');

INSERT INTO USR_UA_DESIGNATIONPREFERREDSCHOOLCODE (ID, DESCRIPTION, ADDEDBYID, CHANGEDBYID)
VALUES (newid(), 'Undergraduate Admissions', 'F2B21B0C-CAD9-4AAC-9504-49824E80AE57', 'F2B21B0C-CAD9-4AAC-9504-49824E80AE57');

INSERT INTO USR_UA_DESIGNATIONPREFERREDSCHOOLCODE (ID, DESCRIPTION, ADDEDBYID, CHANGEDBYID)
VALUES (newid(), 'University Advancement', 'F2B21B0C-CAD9-4AAC-9504-49824E80AE57', 'F2B21B0C-CAD9-4AAC-9504-49824E80AE57');

INSERT INTO USR_UA_DESIGNATIONPREFERREDSCHOOLCODE (ID, DESCRIPTION, ADDEDBYID, CHANGEDBYID)
VALUES (newid(), 'University Libraries', 'F2B21B0C-CAD9-4AAC-9504-49824E80AE57', 'F2B21B0C-CAD9-4AAC-9504-49824E80AE57');

INSERT INTO USR_UA_DESIGNATIONPREFERREDSCHOOLCODE (ID, DESCRIPTION, ADDEDBYID, CHANGEDBYID)
VALUES (newid(), 'University Museums', 'F2B21B0C-CAD9-4AAC-9504-49824E80AE57', 'F2B21B0C-CAD9-4AAC-9504-49824E80AE57');

INSERT INTO USR_UA_DESIGNATIONPREFERREDSCHOOLCODE (ID, DESCRIPTION, ADDEDBYID, CHANGEDBYID)
VALUES (newid(), 'C&BA', 'F2B21B0C-CAD9-4AAC-9504-49824E80AE57', 'F2B21B0C-CAD9-4AAC-9504-49824E80AE57');

INSERT INTO USR_UA_DESIGNATIONPREFERREDSCHOOLCODE (ID, DESCRIPTION, ADDEDBYID, CHANGEDBYID)
VALUES (newid(), 'Intercollegiate Athletics', 'F2B21B0C-CAD9-4AAC-9504-49824E80AE57', 'F2B21B0C-CAD9-4AAC-9504-49824E80AE57');

INSERT INTO USR_UA_DESIGNATIONPREFERREDSCHOOLCODE (ID, DESCRIPTION, ADDEDBYID, CHANGEDBYID)
VALUES (newid(), 'College of Community Health', 'F2B21B0C-CAD9-4AAC-9504-49824E80AE57', 'F2B21B0C-CAD9-4AAC-9504-49824E80AE57');

INSERT INTO USR_UA_DESIGNATIONPREFERREDSCHOOLCODE (ID, DESCRIPTION, ADDEDBYID, CHANGEDBYID)
VALUES (newid(), 'Not Assigned', 'F2B21B0C-CAD9-4AAC-9504-49824E80AE57', 'F2B21B0C-CAD9-4AAC-9504-49824E80AE57');

-- Update all records with guids for PREFERREDSCHOOLCODE
UPDATE USR_UA_DESIGNATIONLEVEL_EXT 
SET PREFERREDSCHOOLCODEID = (SELECT ID FROM USR_UA_DESIGNATIONPREFERREDSCHOOLCODE WHERE DESCRIPTION LIKE '%Academic Affairs%')
WHERE PREFERREDSCHOOL LIKE '%Academic Affairs%'

UPDATE USR_UA_DESIGNATIONLEVEL_EXT 
SET PREFERREDSCHOOLCODEID = (SELECT ID FROM USR_UA_DESIGNATIONPREFERREDSCHOOLCODE WHERE DESCRIPTION LIKE '%Auxiliary Services%')
WHERE PREFERREDSCHOOL LIKE '%Auxiliary Services%'

UPDATE USR_UA_DESIGNATIONLEVEL_EXT 
SET PREFERREDSCHOOLCODEID = (SELECT ID FROM USR_UA_DESIGNATIONPREFERREDSCHOOLCODE WHERE DESCRIPTION LIKE '%Capstone International%')
WHERE PREFERREDSCHOOL LIKE '%Capstone International%'

UPDATE USR_UA_DESIGNATIONLEVEL_EXT 
SET PREFERREDSCHOOLCODEID = (SELECT ID FROM USR_UA_DESIGNATIONPREFERREDSCHOOLCODE WHERE DESCRIPTION LIKE '%A&S%')
WHERE PREFERREDSCHOOL LIKE '%A&S%'

UPDATE USR_UA_DESIGNATIONLEVEL_EXT 
SET PREFERREDSCHOOLCODEID = (SELECT ID FROM USR_UA_DESIGNATIONPREFERREDSCHOOLCODE WHERE DESCRIPTION LIKE '%Accountancy%')
WHERE PREFERREDSCHOOL LIKE '%Accountancy%'

UPDATE USR_UA_DESIGNATIONLEVEL_EXT 
SET PREFERREDSCHOOLCODEID = (SELECT ID FROM USR_UA_DESIGNATIONPREFERREDSCHOOLCODE WHERE DESCRIPTION LIKE '%MBA%')
WHERE PREFERREDSCHOOL LIKE '%MBA%'

UPDATE USR_UA_DESIGNATIONLEVEL_EXT 
SET PREFERREDSCHOOLCODEID = (SELECT ID FROM USR_UA_DESIGNATIONPREFERREDSCHOOLCODE WHERE DESCRIPTION LIKE '%C&IS%')
WHERE PREFERREDSCHOOL LIKE '%C&IS%'

UPDATE USR_UA_DESIGNATIONLEVEL_EXT 
SET PREFERREDSCHOOLCODEID = (SELECT ID FROM USR_UA_DESIGNATIONPREFERREDSCHOOLCODE WHERE DESCRIPTION LIKE '%CCHS%')
WHERE PREFERREDSCHOOL LIKE '%CCHS%'

UPDATE USR_UA_DESIGNATIONLEVEL_EXT 
SET PREFERREDSCHOOLCODEID = (SELECT ID FROM USR_UA_DESIGNATIONPREFERREDSCHOOLCODE WHERE DESCRIPTION LIKE '%Continuing Studies%')
WHERE PREFERREDSCHOOL LIKE '%Continuing Studies%'

UPDATE USR_UA_DESIGNATIONLEVEL_EXT 
SET PREFERREDSCHOOLCODEID = (SELECT ID FROM USR_UA_DESIGNATIONPREFERREDSCHOOLCODE WHERE DESCRIPTION LIKE '%Education%')
WHERE PREFERREDSCHOOL LIKE '%Education%'

UPDATE USR_UA_DESIGNATIONLEVEL_EXT 
SET PREFERREDSCHOOLCODEID = (SELECT ID FROM USR_UA_DESIGNATIONPREFERREDSCHOOLCODE WHERE DESCRIPTION LIKE '%Engineering%')
WHERE PREFERREDSCHOOL LIKE '%Engineering%'

UPDATE USR_UA_DESIGNATIONLEVEL_EXT 
SET PREFERREDSCHOOLCODEID = (SELECT ID FROM USR_UA_DESIGNATIONPREFERREDSCHOOLCODE WHERE DESCRIPTION LIKE '%HES%')
WHERE PREFERREDSCHOOL LIKE '%HES%'

UPDATE USR_UA_DESIGNATIONLEVEL_EXT 
SET PREFERREDSCHOOLCODEID = (SELECT ID FROM USR_UA_DESIGNATIONPREFERREDSCHOOLCODE WHERE DESCRIPTION LIKE '%Nursing%')
WHERE PREFERREDSCHOOL LIKE '%Nursing%'

UPDATE USR_UA_DESIGNATIONLEVEL_EXT 
SET PREFERREDSCHOOLCODEID = (SELECT ID FROM USR_UA_DESIGNATIONPREFERREDSCHOOLCODE WHERE DESCRIPTION LIKE '%Honors College%')
WHERE PREFERREDSCHOOL LIKE '%Honors College%'

UPDATE USR_UA_DESIGNATIONLEVEL_EXT 
SET PREFERREDSCHOOLCODEID = (SELECT ID FROM USR_UA_DESIGNATIONPREFERREDSCHOOLCODE WHERE DESCRIPTION LIKE '%Human Resources%')
WHERE PREFERREDSCHOOL LIKE '%Human Resources%'

UPDATE USR_UA_DESIGNATIONLEVEL_EXT 
SET PREFERREDSCHOOLCODEID = (SELECT ID FROM USR_UA_DESIGNATIONPREFERREDSCHOOLCODE WHERE DESCRIPTION LIKE '%Law School%')
WHERE PREFERREDSCHOOL LIKE '%Law School%'

UPDATE USR_UA_DESIGNATIONLEVEL_EXT 
SET PREFERREDSCHOOLCODEID = (SELECT ID FROM USR_UA_DESIGNATIONPREFERREDSCHOOLCODE WHERE DESCRIPTION LIKE '%Military Science%')
WHERE PREFERREDSCHOOL LIKE '%Military Science%'

UPDATE USR_UA_DESIGNATIONLEVEL_EXT 
SET PREFERREDSCHOOLCODEID = (SELECT ID FROM USR_UA_DESIGNATIONPREFERREDSCHOOLCODE WHERE DESCRIPTION LIKE '%New College%')
WHERE PREFERREDSCHOOL LIKE '%New College%'

UPDATE USR_UA_DESIGNATIONLEVEL_EXT 
SET PREFERREDSCHOOLCODEID = (SELECT ID FROM USR_UA_DESIGNATIONPREFERREDSCHOOLCODE WHERE DESCRIPTION LIKE '%President%')
WHERE PREFERREDSCHOOL LIKE '%President%'

UPDATE USR_UA_DESIGNATIONLEVEL_EXT 
SET PREFERREDSCHOOLCODEID = (SELECT ID FROM USR_UA_DESIGNATIONPREFERREDSCHOOLCODE WHERE DESCRIPTION LIKE '%Social Work%')
WHERE PREFERREDSCHOOL LIKE '%Social Work%'

UPDATE USR_UA_DESIGNATIONLEVEL_EXT 
SET PREFERREDSCHOOLCODEID = (SELECT ID FROM USR_UA_DESIGNATIONPREFERREDSCHOOLCODE WHERE DESCRIPTION LIKE '%SLIS%')
WHERE PREFERREDSCHOOL LIKE '%SLIS%'

UPDATE USR_UA_DESIGNATIONLEVEL_EXT 
SET PREFERREDSCHOOLCODEID = (SELECT ID FROM USR_UA_DESIGNATIONPREFERREDSCHOOLCODE WHERE DESCRIPTION LIKE '%Student Life%')
WHERE PREFERREDSCHOOL LIKE '%Student Life%'

UPDATE USR_UA_DESIGNATIONLEVEL_EXT 
SET PREFERREDSCHOOLCODEID = (SELECT ID FROM USR_UA_DESIGNATIONPREFERREDSCHOOLCODE WHERE DESCRIPTION LIKE '%Student Financial Aid%')
WHERE PREFERREDSCHOOL LIKE '%Student Financial Aid%'

UPDATE USR_UA_DESIGNATIONLEVEL_EXT 
SET PREFERREDSCHOOLCODEID = (SELECT ID FROM USR_UA_DESIGNATIONPREFERREDSCHOOLCODE WHERE DESCRIPTION LIKE '%Undergraduate Admissions%')
WHERE PREFERREDSCHOOL LIKE '%Undergraduate Admissions%'

UPDATE USR_UA_DESIGNATIONLEVEL_EXT 
SET PREFERREDSCHOOLCODEID = (SELECT ID FROM USR_UA_DESIGNATIONPREFERREDSCHOOLCODE WHERE DESCRIPTION LIKE '%University Advancement%')
WHERE PREFERREDSCHOOL LIKE '%University Advancement%'

UPDATE USR_UA_DESIGNATIONLEVEL_EXT 
SET PREFERREDSCHOOLCODEID = (SELECT ID FROM USR_UA_DESIGNATIONPREFERREDSCHOOLCODE WHERE DESCRIPTION LIKE '%University Libraries%')
WHERE PREFERREDSCHOOL LIKE '%University Libraries%'

UPDATE USR_UA_DESIGNATIONLEVEL_EXT 
SET PREFERREDSCHOOLCODEID = (SELECT ID FROM USR_UA_DESIGNATIONPREFERREDSCHOOLCODE WHERE DESCRIPTION LIKE '%University Museums%')
WHERE PREFERREDSCHOOL LIKE '%University Museums%'

UPDATE USR_UA_DESIGNATIONLEVEL_EXT 
SET PREFERREDSCHOOLCODEID = (SELECT ID FROM USR_UA_DESIGNATIONPREFERREDSCHOOLCODE WHERE DESCRIPTION LIKE '%C&BA%')
WHERE PREFERREDSCHOOL LIKE '%C&BA%'

UPDATE USR_UA_DESIGNATIONLEVEL_EXT 
SET PREFERREDSCHOOLCODEID = (SELECT ID FROM USR_UA_DESIGNATIONPREFERREDSCHOOLCODE WHERE DESCRIPTION LIKE '%Intercollegiate Athletics%')
WHERE PREFERREDSCHOOL LIKE '%Intercollegiate Athletics%'

UPDATE USR_UA_DESIGNATIONLEVEL_EXT 
SET PREFERREDSCHOOLCODEID = (SELECT ID FROM USR_UA_DESIGNATIONPREFERREDSCHOOLCODE WHERE DESCRIPTION LIKE '%College of Community Health%')
WHERE PREFERREDSCHOOL LIKE '%College of Community Health%'

UPDATE USR_UA_DESIGNATIONLEVEL_EXT 
SET PREFERREDSCHOOLCODEID = (SELECT ID FROM USR_UA_DESIGNATIONPREFERREDSCHOOLCODE WHERE DESCRIPTION LIKE '%Not Assigned%')
WHERE PREFERREDSCHOOLCODEID IS NULL

-- Generate guids for lookup table items for CONSTITUENTTYPECODE
INSERT INTO USR_UA_DESIGNATIONCONSTITUENTTYPECODE(ID, DESCRIPTION, ADDEDBYID, CHANGEDBYID)
VALUES (newid(), 'Not Assigned', 'F2B21B0C-CAD9-4AAC-9504-49824E80AE57', 'F2B21B0C-CAD9-4AAC-9504-49824E80AE57');

INSERT INTO USR_UA_DESIGNATIONCONSTITUENTTYPECODE(ID, DESCRIPTION, ADDEDBYID, CHANGEDBYID)
VALUES (newid(), 'Annual Fund', 'F2B21B0C-CAD9-4AAC-9504-49824E80AE57', 'F2B21B0C-CAD9-4AAC-9504-49824E80AE57');

INSERT INTO USR_UA_DESIGNATIONCONSTITUENTTYPECODE(ID, DESCRIPTION, ADDEDBYID, CHANGEDBYID)
VALUES (newid(), 'Chair', 'F2B21B0C-CAD9-4AAC-9504-49824E80AE57', 'F2B21B0C-CAD9-4AAC-9504-49824E80AE57');

INSERT INTO USR_UA_DESIGNATIONCONSTITUENTTYPECODE(ID, DESCRIPTION, ADDEDBYID, CHANGEDBYID)
VALUES (newid(), 'Other Endowed Fund', 'F2B21B0C-CAD9-4AAC-9504-49824E80AE57', 'F2B21B0C-CAD9-4AAC-9504-49824E80AE57');

INSERT INTO USR_UA_DESIGNATIONCONSTITUENTTYPECODE(ID, DESCRIPTION, ADDEDBYID, CHANGEDBYID)
VALUES (newid(), 'Professorship', 'F2B21B0C-CAD9-4AAC-9504-49824E80AE57', 'F2B21B0C-CAD9-4AAC-9504-49824E80AE57');

INSERT INTO USR_UA_DESIGNATIONCONSTITUENTTYPECODE(ID, DESCRIPTION, ADDEDBYID, CHANGEDBYID)
VALUES (newid(), 'Scholarship', 'F2B21B0C-CAD9-4AAC-9504-49824E80AE57', 'F2B21B0C-CAD9-4AAC-9504-49824E80AE57');

INSERT INTO USR_UA_DESIGNATIONCONSTITUENTTYPECODE(ID, DESCRIPTION, ADDEDBYID, CHANGEDBYID)
VALUES (newid(), 'Support Fund', 'F2B21B0C-CAD9-4AAC-9504-49824E80AE57', 'F2B21B0C-CAD9-4AAC-9504-49824E80AE57');

-- Update constituent type ids
UPDATE USR_UA_DESIGNATIONLEVEL_EXT 
SET CONSTITUENTTYPECODEID = (SELECT ID FROM USR_UA_DESIGNATIONCONSTITUENTTYPECODE WHERE DESCRIPTION LIKE '%Annual Fund%')
WHERE CONSTITUENTTYPE LIKE '%Annual Fund%'

UPDATE USR_UA_DESIGNATIONLEVEL_EXT 
SET CONSTITUENTTYPECODEID = (SELECT ID FROM USR_UA_DESIGNATIONCONSTITUENTTYPECODE WHERE DESCRIPTION LIKE '%Chair%')
WHERE CONSTITUENTTYPE LIKE '%Chair%'

UPDATE USR_UA_DESIGNATIONLEVEL_EXT 
SET CONSTITUENTTYPECODEID = (SELECT ID FROM USR_UA_DESIGNATIONCONSTITUENTTYPECODE WHERE DESCRIPTION LIKE '%Other Endowed Fund%')
WHERE CONSTITUENTTYPE LIKE '%Other Endowed Fund%'

UPDATE USR_UA_DESIGNATIONLEVEL_EXT 
SET CONSTITUENTTYPECODEID = (SELECT ID FROM USR_UA_DESIGNATIONCONSTITUENTTYPECODE WHERE DESCRIPTION LIKE '%Professorship%')
WHERE CONSTITUENTTYPE LIKE '%Professorship%'

UPDATE USR_UA_DESIGNATIONLEVEL_EXT 
SET CONSTITUENTTYPECODEID = (SELECT ID FROM USR_UA_DESIGNATIONCONSTITUENTTYPECODE WHERE DESCRIPTION LIKE '%Scholarship%')
WHERE CONSTITUENTTYPE LIKE '%Scholarship%'

UPDATE USR_UA_DESIGNATIONLEVEL_EXT 
SET CONSTITUENTTYPECODEID = (SELECT ID FROM USR_UA_DESIGNATIONCONSTITUENTTYPECODE WHERE DESCRIPTION LIKE '%Support Fund%')
WHERE CONSTITUENTTYPE LIKE '%Support Fund%'

UPDATE USR_UA_DESIGNATIONLEVEL_EXT 
SET CONSTITUENTTYPECODEID = (SELECT ID FROM USR_UA_DESIGNATIONCONSTITUENTTYPECODE WHERE DESCRIPTION LIKE '%Not Assigned%')
WHERE CONSTITUENTTYPECODEID IS NULL


UPDATE USR_UA_DESIGNATIONLEVEL_EXT SET FUNDMANAGERID=newid()

INSERT INTO USR_UA_DESIGNATIONDEPARTMENTCODE(ID, DESCRIPTION, ADDEDBYID, CHANGEDBYID)
VALUES (newid(), 'Not Assigned', 'F2B21B0C-CAD9-4AAC-9504-49824E80AE57', 'F2B21B0C-CAD9-4AAC-9504-49824E80AE57');

UPDATE USR_UA_DESIGNATIONLEVEL_EXT 
SET DEPARTMENTCODEID = (SELECT ID FROM USR_UA_DESIGNATIONDEPARTMENTCODE WHERE DESCRIPTION LIKE '%Not Assigned%')
WHERE DEPARTMENTCODEID IS NULL

-- Clean up fund restriction
UPDATE USR_UA_DESIGNATIONLEVEL_EXT
SET FUNDRESTRICTION=LTRIM(REPLACE([FUNDRESTRICTION],'Comments:','')) 
FROM USR_UA_DESIGNATIONLEVEL_EXT
WHERE FUNDRESTRICTION like '%Comments:%'

UPDATE USR_UA_DESIGNATIONLEVEL_EXT
SET FUNDRESTRICTION=LTRIM(REPLACE([FUNDRESTRICTION],'NOTE:','')) 
FROM USR_UA_DESIGNATIONLEVEL_EXT
WHERE FUNDRESTRICTION like '%NOTE:%'

